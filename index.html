<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
    <input id="input">
    <button id="submit">Enter</button>
    <div>
        <input id="room_id">
        <button id="join">JOIN</button>
    </div>
</div>
<script>
  const ws = new WebSocket(`ws://localhost:8080`);
  ws.addEventListener('message', e => {
    console.log(e.data);
  });

  const input = document.querySelector('#input');
  const submit = document.querySelector('#submit');
  const roomId = document.querySelector('#room_id');
  const join = document.querySelector('#join');

  submit.addEventListener('click', e => {
    const message = input.value;
    if (!message) {
      return;
    }
    ws.send(JSON.stringify({ action: message }));
    input.value = '';
  });

  join.addEventListener('click', e => {
    ws.send(JSON.stringify({ action: 'JOIN', data: { roomId: roomId.value, name: input.value } }));
  });

</script>
</body>
</html>
